
// This is shorthand for $( document ).ready(function() { })
$(function(){
  // listen for submission of the form
  $("form").submit(function(){
    // Prevent the default behavior (the form submitting and the page reloading).
    event.preventDefault();

    var action = $(this).attr('action');
    var method = $(this).attr('method');

    var image_link = $(this).find('#post_image_link').val();
    var data = $(this).serializeArray();

    $.ajax({
      method: method,
      url: action,
      data: data

      // this line makes the response format JavaScript and not html.
      dataType: 'script'
    });

    debugger;
  });
});
